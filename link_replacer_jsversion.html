<html>


<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


</head>

<body>

    <div id="main_container" class="container">
        <div class="row">
            <h3> Test links</h3>
            <p>
                <a href="https://jwupvdz.idm.oclc.org/login?url=http://search.ebscohost.com/login.aspx?authtype=ip,uid&profile=ehost&defaultdb=a9h" target="_blank">Academic Search Complete</a>
            </p>
            <p><a href="https://jwupvdz.idm.oclc.org/login?url=http://infotrac.galegroup.com/itweb/prov43712?db=BIC1">Gale Biography in context</a></p>
            <p><a href="https://jwupvdz.idm.oclc.org/login?url=http://search.ebscohost.com/login.aspx?direct=true&db=a9h&AN=114463863&site=ehost-live&scope=site" target="_blank">A Protection Mechanism against Malicious HTML and JavaScript Code in Vulnerable Web Applications.</a></p>

            <p><a href="http://www.nytimes.com/">New York Times</a></p>
            <p><a href="http://search.ebscohost.com.jwupvdz.idm.oclc.org/login.aspx?direct=true&db=nlebk&AN=294632&site=bsi-live">Article done differently</a>
        </div>
    </div>

    <!-- <p><button id="denz-button">MAKE DENZ</button></p> -->


    <style>
        .four-link-btn {
        background-color: #5987C5;
        color:#FFF;
        padding: 3px 8px;
        margin: 0px 4px;
        text-decoration: none;
        font-family:verdana;
        font-size:.7em;
        }

        .four-link-btn:hover {
            opacity:.9;
        }

    </style>
    <script>
        // var matches = function(el, selector) {
        //     return (el.matches || el.matchesSelector || el.msMatchesSelector || el.mozMatchesSelector || el.webkitMatchesSelector || el.oMatchesSelector).call(el, selector);
        // };

        //matches(el, '.my-class');

        // var no_den = [];
        // var no_nmi = [];
        // var no_clt = [];


        var campusRegexp = /(nmiz|denz|pvdz|cltz)/;
        var campuses = ['pvdz', 'cltz', 'nmiz', 'denz'];
        var links = document.querySelectorAll('a');


        links.forEach(function(pageLink, i) {
            if (campusRegexp.test(pageLink.href)) {
                var fourLinks = document.createElement("span");

                fourLinks.style.padding = '5px 2px';

                var match = campusRegexp.exec(pageLink.href)
                origLink = pageLink.href
                campuses.forEach(function(campus, i) {
                    //Create and form links
                    newLink = document.createElement("a");
                    newLink.innerHTML = campus.replace('z', '');
                    newLink.target = "_blank";
                    newLink.href = origLink.replace(/nmiz|denz|pvdz|cltz/, campus)
                    //Style links
                    if (newLink.classList)
                        newLink.classList.add('four-link-btn');
                    else
                        newLink.className += ' ' + 'four-link-btn';

                    // newLink.style.color = "#FFF";
                    // newLink.style.backgroundColor = "#5987C5";
                    // newLink.style.padding = '4px 10px';
                    // newLink.style.margin = '0px 5px';
                    // Fix Gale regionals
                    if (newLink.href.includes("prov43712")) {
                        if (campus == "nmiz") {
                            newLink.href = newLink.href.replace("prov43712", "nort5426");
                        } else if (campus == "denz") {
                            newLink.href = newLink.href.replace("prov43712", "denv8636");
                        }
                    }

                    fourLinks.appendChild(newLink);
                })
                pageLink.parentNode.appendChild(fourLinks);
            }
        });
    </script>



</html>

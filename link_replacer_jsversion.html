<html>
<!--TABLE OF CONCENTS:
  - Dependencies
  - <Footer></Footer>
  -->
<!-- DEPENDENICES-->
<!--IMPORTANT NOTE on Dependencies...
only for local testing..DO NOT INCLUDE in LibAnswers Live...they will break it! -->

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" media="screen" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
    <link rel="stylesheet" media="screen" href="http://jwu-ri.libanswers.com/css293/LibAnswers_public.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="http://jwu-ri.libanswers.com/js293/LibAnswers_public.min.js"></script>
    <link rel="stylesheet" type="text/css" href="http://s3.amazonaws.com/libapps/sites/538/include/libguidesv2-css.css">
    <!-- <link rel="stylesheet" type="text/css" href="https://cdn.rawgit.com/jwulibrary/libanswers/development/jwu-libanswers.css"> -->


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Audiowide|Exo+2|Open+Sans:400|Roboto:300" rel="stylesheet">




    <!--LOCAL CSS...to be included in master CSS eventually-->


    <!-- <script type="text/javascript" src="https://cdn.rawgit.com/jwulibrary/libanswers/development/main.js"></script> -->





</head>

<body>

    <div id="main_container" class="container">
        <div class="row">
            <h3> Test links</h3>
            <p>
                <a href="https://jwupvdz.idm.oclc.org/login?url=http://search.ebscohost.com/login.aspx?authtype=ip,uid&profile=ehost&defaultdb=a9h" target="_blank">Academic Search Complete</a>
            </p>

            <p><a href="https://jwupvdz.idm.oclc.org/login?url=http://search.ebscohost.com/login.aspx?direct=true&db=a9h&AN=114463863&site=ehost-live&scope=site" target="_blank">A Protection Mechanism against Malicious HTML and JavaScript Code in Vulnerable Web Applications.</a></p>

            <p><a href="http://www.nytimes.com/">New York Times</a></p>
        </div>
    </div>

    <!-- <p><button id="denz-button">MAKE DENZ</button></p> -->



    <script>
        mainContainer = document.getElementById('main_container');


        var campusRegexp = /http[s]?:\/\/jwu(nmiz|denz|pvdz|cltz)/;
        var campuses = ['pvdz', 'cltz', 'nmiz', 'denz'];
        var els = document.querySelectorAll('a');

        els.forEach(function(pageLink, i) {
            if (campusRegexp.test(pageLink.href)){
                var fourLinks = document.createElement("span");
                fourLinks.style.backgroundColor = "#5987C5";
                fourLinks.style.padding='5px 5px';

                var match = campusRegexp.exec(pageLink.href)
                origLink = pageLink.href
                campuses.forEach(function(campus,i){
                    console.log(campus);
                    newLink = document.createElement("a");
                    space = document.createElement('span');
                    newLink.innerHTML = campus;
                    newLink.href = origLink.replace(/nmiz|denz|pvdz|cltz/, campus)
                    newLink.style.color = "#FFF";
                    newLink.style.padding = '5px 10px';
                    pageLink.parentNode.appendChild(fourLinks);
                    fourLinks.appendChild(space);
                    fourLinks.appendChild(newLink);

                })
            }
        });
    </script>



</html>
